/*! Cofoundry 2020-06-22 */
angular.module("cms.pageTemplates",["ngRoute","cms.shared"]).constant("_",window._).constant("pageTemplates.modulePath","/Admin/Modules/PageTemplates/Js/"),angular.module("cms.pageTemplates").config(["$routeProvider","shared.routingUtilities","pageTemplates.modulePath",function(a,b,c){b.registerCrudRoutes(a,c,"PageTemplate")}]),angular.module("cms.pageTemplates").factory("pageTemplates.pageTemplateService",["$http","shared.serviceBase",function(a,b){function c(a){return e+"/"+a}var d={},e=b+"page-templates";return d.getAll=function(b){return a.get(e,{params:b})},d.getById=function(b){return a.get(c(b))},d}]),angular.module("cms.pageTemplates").controller("PageTemplateDetailsController",["$routeParams","$location","shared.LoadState","shared.urlLibrary","pageTemplates.pageTemplateService","pageTemplates.modulePath",function(a,b,c,d,e,f){function g(){k.urlLibrary=d,k.editMode=!1,k.globalLoadState=new c,k.formLoadState=new c(!0),h().then(j.bind(null,k.formLoadState))}function h(){function b(a){k.pageTemplate=a,k.command=i(a),k.editMode=!1}var c=a.id;return e.getById(c).then(b)}function i(a){return _.pick(a,"pageTemplateId","name","description")}function j(a){k.globalLoadState.off(),a&&_.isFunction(a.off)&&a.off()}var k=this;g()}]),angular.module("cms.pageTemplates").controller("PageTemplateListController",["_","shared.LoadState","shared.SearchQuery","shared.urlLibrary","pageTemplates.pageTemplateService",function(a,b,c,d,e){function f(){j.urlLibrary=d,j.gridLoadState=new b,j.query=new c({onChanged:h}),j.filter=j.query.getFilters(),j.toggleFilter=g,g(!1),i()}function g(b){j.isFilterVisible=a.isUndefined(b)?!j.isFilterVisible:b}function h(){g(!1),i()}function i(){return j.gridLoadState.on(),e.getAll(j.query.getParameters()).then(function(a){j.result=a,j.gridLoadState.off()})}var j=this;f()}]);